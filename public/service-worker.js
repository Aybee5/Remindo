let dynamicCacheName="dynamic",showNotifications=t=>{self.registration.showNotification(t,{body:"Reminder",badge:"/img/icons/icon-96x96.png",tag:Date.now().toString(36),actions:[{action:"view",title:"View"},{action:"discard",title:"Discard"}],renotify:!0,silent:!1,vibrate:[250,100,200],requireInteraction:!0})};self.addEventListener("install",t=>{console.log("sw installed successfully",t),self.skipWaiting()});let updateCache=request=>caches.open(dynamicCacheName).then(cache=>fetch(request).then(response=>{const resClone=response.clone();return response.status<400?cache.put(request,resClone):response}));self.clients.matchAll({includeUncontrolled:!0}).then(clients=>{for(const client of clients)updateCache(new URL(client.url).href)}),self.addEventListener("activate",t=>{console.log("sw activated",t)}),self.addEventListener("fetch",t=>{0===t.request.url.indexOf("http")&&t.respondWith(caches.open(dynamicCacheName).then(e=>e.match(t.request).then(i=>i||fetch(t.request).then(i=>(e.put(t.request,i.clone()),i)))).catch(t=>{console.log("sw error",t)}))}),self.addEventListener("notificationclick",t=>{switch(t.notification.close(),t.action){case"view":default:t.waitUntil(async function(){const t=await clients.matchAll({includeUncontrolled:!0});let e,i="https://remindo.netlify.app";for(const n of t)if(n.url.indexOf(i)>=0){n.focus(),e=n;break}e||(e=await clients.openWindow(i))}())}}),self.addEventListener("message",t=>{if(t.data.time&&t.data.title){let e=t.data.time,i=t.data.title;setTimeout(showNotifications,e,i)}});